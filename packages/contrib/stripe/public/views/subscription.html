<div class="subscription-view" data-ng-controller="SubscriptionController as subCtrl">
	<h1>Billing</h1>

	<h2>Payment Method</h2>

	<div class="row" ng-show="!subCtrl.status.newCardVisible">
		<div class="col-xs-6">
			<div class="panel panel-success">
				<div class="panel-heading">Cards on File</div>
				<div class="panel-body" ng-repeat="card in subCtrl.cards">
					<p>{{card.brand}}: **** **** **** {{card.last4}} - Exp: {{card.exp_month}}/{{card.exp_year}}</p>
				</div>
				<div class="panel-body">
					<button class="btn btn-primary" type="button" ng-click="subCtrl.showNewCard()" tabindex="-1">Save New Credit Card</button>
				</div>
			</div>
		</div>
	</div>

	<div class="row" ng-show="subCtrl.status.newCardVisible">
		<div class="col-xs-6">
			<div class="panel panel-success">
				<div class="panel-heading">New Credit Card</div>
				<div class="panel-body">
					<form name="subCtrl.newCardFrm" novalidate>
						<div class="row">
							<div class="col-xs-6">
								<div class="form-group" bs-has>
									<label for="number-input">Number</label>
									<input id="number-input" type="text" size="20" name="number" data-stripe="number" ng-model="subCtrl.newCard.number" class="form-control" focus-on="firstOpened" required tabindex="0"/>
									<span class="has-error" ng-show="subCtrl.newCardFrm.number.$dirty && subCtrl.newCardFrm.number.$invalid">
										<span ng-show="subCtrl.newCardFrm.number.$error.required">Card Number is required.</span>
									</span>
								</div>
							</div>
							<div class="col-xs-2">
								<div class="form-group" bs-has>
									<label for="cvc-input">CVC</label>
									<input id="cvc-input" type="text" size="4" name="cvc" data-stripe="cvc" ng-model="subCtrl.newCard.cvc" class="form-control" required tabindex="0"/>
									<span class="has-error" ng-show="subCtrl.newCardFrm.cvc.$dirty && subCtrl.newCardFrm.cvc.$invalid">
										<span ng-show="subCtrl.newCardFrm.cvc.$error.required">CVC is required.</span>
									</span>
								</div>
							</div>
							<div class="col-xs-2">
								<div class="form-group" bs-has>
									<label for="month-input">Month</label>
									<input id="month-input" type="text" size="2" name="month" data-stripe="exp-month" ng-model="subCtrl.newCard.month" class="form-control" required tabindex="0"/>
									<span class="has-error" ng-show="subCtrl.newCardFrm.month.$dirty && subCtrl.newCardFrm.month.$invalid">
										<span ng-show="subCtrl.newCardFrm.month.$error.required">Month is required.</span>
									</span>
								</div>
							</div>
							<div class="col-xs-2">
								<div class="form-group" bs-has>
									<label for="year-input">Year</label>
									<input id="year-input" type="text" size="2" name="year" data-stripe="exp-year" ng-model="subCtrl.newCard.year" class="form-control" required tabindex="0"/>
									<span class="has-error" ng-show="subCtrl.newCardFrm.year.$dirty && subCtrl.newCardFrm.year.$invalid">
										<span ng-show="subCtrl.newCardFrm.year.$error.required">Year is required.</span>
									</span>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-xs-12">
								<button class="btn btn-default" type="button" data-ng-click="subCtrl.cancelAddNewCard()" tabindex="-1">Cancel</button>
								<div class="pull-right">
									<button class="btn btn-primary" type="button" data-ng-click="subCtrl.addNewCard()" ng-disabled="subCtrl.status.addNewCardDisabled" tabindex="0">Save Credit Card</button>
								</div>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>

	<h2>Subscription Plan</h2>

	<div class="row">
		<div class="col-xs-6">
			<div class="panel panel-success">
				<div class="panel-heading">Individuals $39.99/month</div>
				<div class="panel-body">
					<p>Access training, customize worksheets, print PDF reports</p>
					<button class="btn btn-success" type="button" data-ng-click="subCtrl.subscribePaidPlan()" ng-show="!subCtrl.status.showUnsubscribe" ng-disabled="!subCtrl.status.subscribeEnabled" tabindex="0">Subscribe</button>
					<button class="btn btn-danger" type="button" ng-show="subCtrl.status.showUnsubscribe" tabindex="0">Unsubscribe</button>
				</div>
			</div>
		</div>
		<div class="col-xs-4">
			<div class="panel panel-default">
				<div class="panel-heading">Free</div>
				<div class="panel-body">
					<p>demo worksheets and value proposition</p>
					<button class="btn btn-success" type="button" data-ng-click="subCtrl.subscribeFreePlan()" tabindex="0">Subscribe</button>
				</div>
			</div>
		</div>
	</div>
</div>
